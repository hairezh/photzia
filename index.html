<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Photzia</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <span class="logo">‚óºÔ∏é</span>
      <strong>Photzia</strong>
      <span class="muted">v3</span>
    </div>

    <div class="topbar-actions">
      <button id="btnNewLayer" class="btn">+ Layer</button>

      <label class="btn filebtn" title="Importar imagem como layer">
        Importar imagem
        <input id="fileImportImage" type="file" accept="image/*" hidden />
      </label>

      <button id="btnSaveProject" class="btn">Salvar projeto</button>
      <label class="btn filebtn" title="Abrir projeto Photzia">
        Abrir projeto
        <input id="fileOpenProject" type="file" accept=".json,application/json" hidden />
      </label>

      <div class="sep"></div>

      <button id="btnUndo" class="btn ghost" title="Ctrl+Z">‚Ü∂ Undo</button>
      <button id="btnRedo" class="btn ghost" title="Ctrl+Y / Ctrl+Shift+Z">‚Ü∑ Redo</button>

      <div class="sep"></div>

      <button id="btnExport" class="btn">Export PNG</button>

      <div class="sep"></div>

      <label class="row">
        <span class="muted">Zoom</span>
        <input id="zoom" type="range" min="25" max="400" value="100" />
        <span id="zoomLabel" class="pill">100%</span>
      </label>

      <div class="sep"></div>

      <button id="btnTheme" class="btn">Tema</button>
    </div>
  </header>

  <main class="layout">
    <aside class="panel left">
      <h3>Ferramentas</h3>

      <div class="toolgrid" id="toolgrid">
        <button class="tool active" data-tool="brush" title="Pincel (B)">üñåÔ∏è</button>
        <button class="tool" data-tool="eraser" title="Borracha (E)">üßΩ</button>
        <button class="tool" data-tool="move" title="Mover layer (V)">üß≤</button>
        <button class="tool" data-tool="select" title="Sele√ß√£o retangular (M)">‚ñ≠</button>
      </div>

      <div class="section">
        <h4>Brush</h4>
        <label class="row">
          <span class="muted">Tamanho</span>
          <input id="size" type="range" min="1" max="120" value="12" />
          <span id="sizeLabel" class="pill">12</span>
        </label>

        <label class="row">
          <span class="muted">Cor</span>
          <input id="color" type="color" value="#ffffff" />
        </label>

        <label class="row">
          <span class="muted">Opacidade</span>
          <input id="opacity" type="range" min="1" max="100" value="100" />
          <span id="opacityLabel" class="pill">100%</span>
        </label>
      </div>

      <div class="section">
        <h4>Sele√ß√£o & Transform</h4>
        <div class="kbdlist muted">
          <div><span class="kbd">M</span> sele√ß√£o retangular</div>
          <div><span class="kbd">Esc</span> deselecionar</div>
          <div><span class="kbd">Enter</span> aplicar transforma√ß√£o</div>
          <div><span class="kbd">Ctrl</span>+<span class="kbd">C</span> copiar</div>
          <div><span class="kbd">Ctrl</span>+<span class="kbd">X</span> recortar</div>
          <div><span class="kbd">Ctrl</span>+<span class="kbd">V</span> colar</div>
        </div>
      </div>

      <div class="section">
        <h4>Atalhos</h4>
        <div class="kbdlist muted">
          <div><span class="kbd">B</span> pincel</div>
          <div><span class="kbd">E</span> borracha</div>
          <div><span class="kbd">V</span> mover layer</div>
          <div><span class="kbd">Ctrl</span>+<span class="kbd">Z</span> undo</div>
          <div><span class="kbd">Ctrl</span>+<span class="kbd">Y</span> redo</div>
          <div><span class="kbd">Ctrl</span>+<span class="kbd">Shift</span>+<span class="kbd">Z</span> redo</div>
        </div>
      </div>
    </aside>

    <section class="stage-wrap">
      <div class="stage" id="stage">
        <canvas id="view" width="1280" height="720"></canvas>
      </div>
    </section>

    <aside class="panel right">
      <h3>Camadas</h3>
      <div class="layers" id="layers"></div>

      <div class="section">
        <h4>Camada ativa</h4>

        <div id="noActiveLayer" class="muted">Nenhuma camada selecionada.</div>

        <div id="activeLayerProps" hidden>
          <label class="row">
            <span class="muted">Nome</span>
            <input id="layerName" class="input" />
          </label>

          <label class="row">
            <span class="muted">Opacidade</span>
            <input id="layerOpacity" type="range" min="0" max="100" value="100" />
            <span id="layerOpacityLabel" class="pill">100%</span>
          </label>

          <label class="row">
            <span class="muted">Blend</span>
            <select id="layerBlend" class="select">
              <option value="source-over">Normal</option>
              <option value="multiply">Multiply</option>
              <option value="screen">Screen</option>
              <option value="overlay">Overlay</option>
              <option value="darken">Darken</option>
              <option value="lighten">Lighten</option>
            </select>
          </label>

          <div class="row gap">
            <button id="btnClearLayer" class="btn ghost">Limpar layer</button>
            <button id="btnDeleteLayer" class="btn ghost danger">Deletar layer</button>
          </div>
        </div>
      </div>

      <div class="section">
        <h4>Sele√ß√£o</h4>
        <div id="selEmpty" class="muted">Nenhuma sele√ß√£o ativa.</div>

        <div id="selProps" hidden>
          <div class="row">
            <span class="muted">W√óH</span>
            <span id="selWH" class="pill">0√ó0</span>
          </div>
          <div class="row">
            <span class="muted">X,Y</span>
            <span id="selXY" class="pill">0,0</span>
          </div>

          <div class="row gap">
            <button id="btnSelCommit" class="btn">Aplicar (Enter)</button>
            <button id="btnSelCancel" class="btn ghost">Cancelar (Esc)</button>
          </div>

          <div class="row gap">
            <button id="btnSelCopy" class="btn ghost">Copiar</button>
            <button id="btnSelCut" class="btn ghost">Recortar</button>
            <button id="btnSelPaste" class="btn ghost">Colar</button>
          </div>
        </div>
      </div>
    </aside>
  </main>

  <!-- Modal de Tema -->
  <div class="modal-backdrop" id="themeModalBackdrop" hidden></div>
  <div class="modal" id="themeModal" hidden>
    <div class="modal-header">
      <strong>Tema do Photzia</strong>
      <button class="btn ghost" id="btnCloseTheme">‚úï</button>
    </div>

    <div class="modal-body">
      <p class="muted">Tudo aqui vira <code>CSS variables</code>. Voc√™ pode salvar presets.</p>

      <div class="themegrid">
        <label><span>Fundo</span><input type="color" id="t_bg" /></label>
        <label><span>Pain√©is</span><input type="color" id="t_panel" /></label>
        <label><span>Texto</span><input type="color" id="t_text" /></label>
        <label><span>Destaque</span><input type="color" id="t_accent" /></label>
        <label><span>Borda</span><input type="color" id="t_border" /></label>
        <label><span>Canvas</span><input type="color" id="t_canvas" /></label>
      </div>

      <div class="row gap">
        <input id="themeName" class="input" placeholder="nome do tema (ex: neon)" />
        <button id="btnSaveTheme" class="btn">Salvar</button>
        <button id="btnResetTheme" class="btn ghost">Reset</button>
      </div>

      <div class="section">
        <h4>Presets salvos</h4>
        <div id="themePresets" class="presetlist"></div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
